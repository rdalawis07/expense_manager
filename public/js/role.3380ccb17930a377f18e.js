(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{Bavh:function(e,t,a){(e.exports=a("I1BE")(!1)).push([e.i,"\n.row-clickable[data-v-3468a154]{\r\n    cursor: pointer !important;\n}\r\n",""])},"KHd+":function(e,t,a){"use strict";function i(e,t,a,i,o,s,r,n){var l,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=a,c._compiled=!0),i&&(c.functional=!0),s&&(c._scopeId="data-v-"+s),r?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(r)},c._ssrRegister=l):o&&(l=n?function(){o.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:o),l)if(c.functional){c._injectStyles=l;var d=c.render;c.render=function(e,t){return l.call(t),d(e,t)}}else{var u=c.beforeCreate;c.beforeCreate=u?[].concat(u,l):[l]}return{exports:e,options:c}}a.d(t,"a",(function(){return i}))},pO1o:function(e,t,a){var i=a("Bavh");"string"==typeof i&&(i=[[e.i,i,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(i,o);i.locals&&(e.exports=i.locals)},t95j:function(e,t,a){"use strict";var i=a("pO1o");a.n(i).a},zeXW:function(e,t,a){"use strict";a.r(t);var i={data:function(){return{isFormValid:!1,moment:moment,isVisibleControl:!0,dialog:!1,search:"",roleList:[],isCreate:!1,items:[{text:"User Management",disabled:!1},{text:"Roles",disabled:!1}],headers:[{text:"Display Name",align:"left",value:"name",sortable:!0},{text:"Description",align:"left",value:"description",sortable:!0},{text:"Created At",align:"left",value:"created_at",sortable:!0}],roleObj:{id:null,name:null,description:null},rules:{required:function(e){return!!e||"Required."}}}},created:function(){this.fetchRole()},methods:{fetchRole:function(){var e=this;this.$store.dispatch("app/changeLoading",!0),this.roleList=[],this.$axios({method:"get",url:"/api/roles"}).then((function(t){t.data.length>0?e.roleList=t.data:e.$swal.fire("Failed","No Data.","warning"),e.$store.dispatch("app/changeLoading",!1)})).catch((function(t){e.$swal.fire("Failed","Something went wrong. Please check your connection.","error"),e.$store.dispatch("app/changeLoading",!1)}))},create:function(){this.isCreate=!0,this.roleObj.id=null,this.roleObj.name=null,this.roleObj.description=null,this.dialog=!0},editRow:function(e){e.name.includes("ADMIN")?this.isVisibleControl=!1:this.isVisibleControl=!0,this.isCreate=!1,this.roleObj.id=e.id,this.roleObj.name=e.name,this.roleObj.description=e.description,this.dialog=!0},saveCreate:function(){var e=this;this.$swal.fire({title:"Save Role",text:"Are you sure?",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes"}).then((function(t){t.value&&(e.$store.dispatch("app/changeLoading",!0),e.$axios({method:"post",url:"/api/roles/create",params:e.roleObj}).then((function(t){t.data[0].id||t.data.length<=0?(e.roleList=t.data,e.$swal.fire("Success","Successfully add role.","success")):e.$swal.fire("Failed","Something went wrong. Please try again later.","error"),e.dialog=!1,e.$store.dispatch("app/changeLoading",!1)})).catch((function(t){e.$swal.fire("Failed","Something went wrong. Please try again later.","error"),e.$store.dispatch("app/changeLoading",!1)})))}))},saveEdit:function(){var e=this;this.$swal.fire({title:"Save Update Role",text:"Are you sure?",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes"}).then((function(t){t.value&&(e.$store.dispatch("app/changeLoading",!0),e.$axios({method:"put",url:"/api/roles/update",params:e.roleObj}).then((function(t){t.data[0].id||t.data.length<=0?(e.roleList=t.data,e.$swal.fire("Success","Successfully Update role.","success")):e.$swal.fire("Failed","Something went wrong. Please try again later.","error"),e.dialog=!1,e.$store.dispatch("app/changeLoading",!1)})).catch((function(t){e.$swal.fire("Failed","Something went wrong. Please try again later.","error"),e.$store.dispatch("app/changeLoading",!1)})))}))},saveDelete:function(){var e=this;this.$swal.fire({title:"Delete Role",text:"Are you sure?",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes"}).then((function(t){t.value&&(e.$store.dispatch("app/changeLoading",!0),e.$axios({method:"delete",url:"/api/roles/delete",params:e.roleObj}).then((function(t){t.data[0].id||t.data.length<=0?(e.roleList=t.data,e.$swal.fire("Success","Successfully add role.","success")):e.$swal.fire("Failed","Something went wrong. Please try again later.","error"),e.dialog=!1,e.$store.dispatch("app/changeLoading",!1)})).catch((function(t){e.$swal.fire("Failed","Something went wrong. Please try again later.","error"),e.$store.dispatch("app/changeLoading",!1)})))}))}}},o=(a("t95j"),a("KHd+")),s=Object(o.a)(i,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("div",{staticClass:"title"},[e._v("Roles")])]),e._v(" "),a("v-col",{attrs:{cols:"6"}},[a("v-breadcrumbs",{staticClass:"indigo--text font-weight-black pa-0 pt-2 d-flex justify-end",attrs:{items:e.items},scopedSlots:e._u([{key:"divider",fn:function(){return[a("v-icon",[e._v("mdi-chevron-right")])]},proxy:!0}])})],1)],1),e._v(" "),a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{cols:"12"}},[a("v-card",{staticClass:"elevation-1"},[a("v-card-title",{staticClass:"pa-2 ma-0"},[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{cols:"8"}},[a("v-btn",{attrs:{color:"primary",small:""},on:{click:e.create}},[a("v-icon",[e._v("mdi-plus")]),e._v(" Add Role")],1)],1),e._v(" "),a("v-col",{attrs:{cols:"4"}},[a("v-text-field",{attrs:{outlined:"",dense:"",label:"Search","prepend-icon":"mdi-magnify"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1)],1),e._v(" "),a("v-card-text",[a("v-data-table",{staticClass:"ml-5 elevation-1",attrs:{search:e.search,items:e.roleList,headers:e.headers},scopedSlots:e._u([{key:"item",fn:function(t){var i=t.item;return[a("tr",{class:{"row-clickable":i.name.includes("ADMIN")},on:{click:function(t){return e.editRow(i)}}},[a("td",{staticClass:"subtitle-2 text-left"},[e._v(e._s(i.name))]),e._v(" "),a("td",{staticClass:"subtitle-2 text-left"},[e._v(e._s(i.description))]),e._v(" "),a("td",{staticClass:"subtitle-2 text-left"},[e._v(e._s(e.moment(i.created_at).format("YYYY-MM-DD")))])])]}}])})],1)],1)],1)],1),e._v(" "),a("v-dialog",{attrs:{persistent:"",width:"400"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[e.isCreate?a("v-card-title",{staticClass:"headline purple lighten-2",attrs:{"primary-title":""}},[e._v("\r\n                Add Role\r\n                ")]):a("v-card-title",{staticClass:"headline purple lighten-2",attrs:{"primary-title":""}},[e._v("\r\n                Update Role\r\n                ")]),e._v(" "),a("v-card-text",{staticClass:"pt-5 pr-5 pl-5 pb-0"},[a("v-form",{model:{value:e.isFormValid,callback:function(t){e.isFormValid=t},expression:"isFormValid"}},[a("v-text-field",{attrs:{outlined:"",dense:"",label:"Display Name",rules:[e.rules.required]},model:{value:e.roleObj.name,callback:function(t){e.$set(e.roleObj,"name",t)},expression:"roleObj.name"}}),e._v(" "),a("v-text-field",{attrs:{outlined:"",dense:"",label:"Description",rules:[e.rules.required]},model:{value:e.roleObj.description,callback:function(t){e.$set(e.roleObj,"description",t)},expression:"roleObj.description"}})],1)],1),e._v(" "),a("v-divider"),e._v(" "),a("v-card-actions",[a("v-btn",{directives:[{name:"show",rawName:"v-show",value:!1===e.isCreate&&e.isVisibleControl,expression:"isCreate === false && isVisibleControl"}],attrs:{color:"red",small:""},on:{click:function(t){return e.saveDelete()}}},[e._v("Delete")]),e._v(" "),a("v-spacer"),e._v(" "),a("v-btn",{attrs:{color:"grey",small:""},on:{click:function(t){e.dialog=!1}}},[e._v("Cancel")]),e._v(" "),e.isCreate?a("v-btn",{attrs:{color:"green",small:"",disabled:!e.isFormValid||!e.roleObj.name||!e.roleObj.description},on:{click:function(t){return e.saveCreate()}}},[e._v("Save")]):a("v-btn",{directives:[{name:"show",rawName:"v-show",value:e.isVisibleControl,expression:"isVisibleControl"}],attrs:{color:"indigo",small:"",disabled:!e.isFormValid||!e.roleObj.name||!e.roleObj.description},on:{click:function(t){return e.saveEdit()}}},[e._v("Update")])],1)],1)],1)],1)}),[],!1,null,"3468a154",null);t.default=s.exports}}]);